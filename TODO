Plan:

1. Detailed message documentation

2. Make ActiveModel-like attributes Hash for easy attributes updating

3. IB#send_message method should accept block, thus compressing subscribe/send_message
pair into a single call - to simplify DSL.

4. IB Connection uses delays to prevent hitting 50 msgs/sec limit:
http://finance.groups.yahoo.com/group/TWSAPI/message/25413

5. IB Connection reconnects gracefully in case if TWS disconnects/reconnects

6. Compatibility check for new TWS v.966

7. @received_at timestamp in messages

8. Collect all messages in Connection#received_messages

9. Flow handlers: Connection#wait_for / Connection#received?

10. Create integration tests for more use cases (spec/README)


Done:

1. Create integration tests for basic use cases

2. IB#subscribe should accept regexes.

Ideas for future:

1. Decouple Broker-specific Adapter from universal high-level messaging layer
(potentially adding other broker adapters)

2. Tweak IB::Message API for speed (use class methods)

